@{
}
@model gestionBiblioteca.Models.LoanViewModel;
<link rel="stylesheet" href="~/css/IndexLoan.css" asp-append-version="true" />

@{
   
}

@*Opciones de los botones: Crear, elimar,actualizar, Historial de prestamos *@
<div class="buttonsOptions">
    <div class="card">
        <div class="card-body d-flex flex-column align-items-center">
            <i class="bi bi-arrow-down-circle-fill"></i>
            <p>Crear Prestamo</p>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <i class="bi bi-x-circle-fill"></i>
            <p>Eliminar Prestamo</p>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <i class="bi bi-arrow-down-up"></i>
            <p>Actualizar Prestamo</p>
        </div>
    </div>
    <div class="card">
        <div class="card-body">
            <i class="bi bi-card-checklist"></i>
            <p>Ver Historial <br> De Prestamo</p>
        </div>
    </div>
</div>



@* Espacio 1: Crear un prestamo *@

<div class="spaceOne">
    <strong>Crear</strong>
    <form asp-action="CreateLoan">
        <div class="mb-3">
            <input type="date" class="form-control" id="dateCreate" asp-for="NewLoan.DeliveryDate" placeholder="Fecha del prestamo">
        </div>
        <label for="idBook">Libro</label>
        <select id="idBook" class="form-select" asp-for="NewLoan.IdBook">
            @foreach( var item in Model.Books){
                <option value="@item.IdBook">@item.Title</option>
            }
        </select>
        <label for="idClient">Cliente</label>
        <select id="idClient" class="form-select" asp-for="NewLoan.IdClient">
            @foreach( var item in Model.Clients){
                <option value="@item.IdClient">@item.Name</option>
            }
        </select>
        <button type="submit" class="btn btn-primary">Guardar</button>
    </form>
</div>


@* Espacio 4: Historial de prestamos *@

<div>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Id prestamo</th>
                <th scope="col">Fecha de prestamo</th>
                <th scope="col">Fecha de devolucion</th>
                <th scope="col">Libro prestado</th>
                <th scope="col">Cliente asignado</th>
            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model.Loans)
            {
                <tr>
                    <td>@item.IdLoan</td>
                    <td>@item.DeliveryDate.ToString()</td>
                    <td>@item.ReturnDate.ToString()</td>
                    <td>@item.IdBookNavigation.Title</td>
                    <td>@item.IdClientNavigation.Name</td>
                </tr>
            }
        </tbody>
    </table>
</div>
